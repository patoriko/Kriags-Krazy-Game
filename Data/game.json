

def settings_menu():
    SCREEN.fill(WHITE)
    text_surf, text_rect = text_objects('Settings', MENU_TEXT)
    text_rect.center = ((SCREEN_WIDTH // 2), (SCREEN_HEIGHT // 4))
    SCREEN.blit(text_surf, text_rect)
    pygame.display.update()
    first_run = draw_bg_toggle = draw_jump_toggle = draw_show_fps = True
    while True:
        click = False
        pressed_keys = pygame.key.get_pressed()
        for event in pygame.event.get():
            alt_f4 = (event.type == KEYDOWN and 
            (event.key == K_F4 and (pressed_keys[K_LALT] or pressed_keys[K_RALT]) or event.key == K_q))
            if event.type == QUIT or alt_f4: sys.exit()
            elif event.type == KEYDOWN and event.key == K_ESCAPE: return
            elif event.type == MOUSEBUTTONDOWN: click = True
        # change config[''] to setting you want to use
        if toggle_btn('Background Music', *button_layout_4[0], click, enabled=config['background_music'],
                      draw_toggle=draw_bg_toggle, blit_text=first_run):
            # code to change settings
            draw_bg_toggle = True
        # change config[''] to setting you want to use
        elif toggle_btn('Jump Sound', *button_layout_4[1], click, enabled=config['jump_sound'],
                        draw_toggle=draw_jump_toggle, blit_text=first_run):
            # code to change settings
            draw_jump_toggle = True
        # change config[''] to setting you want to use
        elif toggle_btn('Show FPS', *button_layout_4[2], click, enabled=config['show_fps'],
                        draw_toggle=draw_show_fps, blit_text=first_run):
            # code to change settings
            draw_show_fps = True
        elif button('B A C K', *button_layout_4[3], click): return
        else: draw_bg_toggle = draw_jump_toggle = draw_show_fps = False
        first_run = False
        pygame.display.update(button_layout_4)
        clock.tick(60)